{% extends 'base.html' %}

{% load static %}

{% block title %}
    {{ object.title }}
{% endblock title %}

{% block content %}
    <div class="card">
        <div class="card-content">
            <div class="content">
                <div class="columns">
                    <div class="column is-8">
                        <figure class="image">
                            <img src="{{ object.image.url }}" alt="{{ object.title }}-image">
                        </figure>
                    </div>
                    <div class="column">
                        <h1 class="title">{{ object.title }}</h1>
                        <small>added on {{ object.timestamp|date:'d M Y' }}</small>
                        <br><br>
                        {{ object.description|linebreaks }}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="columns">
        <div class="column is-8">
            <div class="card">
                <div class="card-header">
                    <div class="card-header-title">Costs</div>
                </div>
                <div class="card-content">
                    <div class="content">
                        <h1 class="subtitle is-6">Deposit</h1>
                        <p>{{ object.deposit }}</p>
                        
                        <h1 class="subtitle is-6">Rent per month</h1>
                        <p>{{ object.rent_per_month }}</p>
        
                        <h1 class="subtitle is-6">Total per year</h1>
                        <p>{{ object.rent_per_year }}</p>
                    </div>
                </div>
            </div>
            <br>
            <div class="card">
                <div class="card-header">
                    <div class="card-header-title">Details</div>
                </div>
                <div class="card-content">
                    <div class="content">
                        <h1 class="subtitle is-6">Furnishing</h1>
                        <p>{{ object.furnishing }}</p>

                        <h1 class="subtitle is-6">Bedrooms</h1>
                        <p>{{ object.bedrooms }}</p>

                        <h1 class="subtitle is-6">Bathrooms</h1>
                        <p>{{ object.bathrooms }}</p>

                        <h1 class="subtitle is-6">Size</h1>
                        <p>{{ object.size }}</p>

                        <h1 class="subtitle is-6">Water heating</h1>
                        {% if object.waterheating %}
                            <p>Available</p>
                        {% else %}
                            <p>Not available</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- AGENT DETAIL -->

        <div class="column">
            <div class="card">
                <div class="card-header">
                    <div class="card-header-title">Property Agent</div>
                </div>
                <div class="card-image">
                    <figure class="image">
                        <img src="{{ object.owner.agent.logo.url }}" alt="">
                    </figure>
                </div>
                <div class="card-content">
                    <div class="content">
                        <h1 class="subtitle is-5">{{ object.owner.agent.name }}</h1>
                        <h1 class="subtitle is-6">Contact</h1>
                        <p><strong>Phonenumber</strong>: {{ object.owner.agent.phonenumber }}</p>
                        <p><strong>Email</strong>: {{ object.owner.email }}</p>
                        <hr>
                        {% if not object.owner.agent.verified %}
                            <small>Agent has not been verified yet</small>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}